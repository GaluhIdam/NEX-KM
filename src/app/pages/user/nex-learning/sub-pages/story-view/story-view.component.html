<div *ngIf="load">
  <app-loading></app-loading>
</div>
<div *ngIf="!load">
  <!-- Search & Trend Section -->
  <div class="bg-library bg-center flex justify-center py-20">
    <div class="grid grid-rows-2 gap-4 max-[600px]:px-3">
      <div class="place-self-center">
        <h1 class="text-white mt-5 font-bold text-center min-[600px]:text-4xl max-[600px]:text-2xl">Explore New
          Experience of
          Collaboration</h1>
      </div>
    </div>
  </div>
  <!-- Search & Trend Section -->
  <div class="md:px-20 mt-5">
    <p class="text-4xl mb-5 text-primary font-semibold px-5 mt-10 md:px-0">NEX Stream</p>
    <div mat-card-image plyr [plyrPoster]="storyData.cover" [plyrPlaysInline]="true" [plyrCrossOrigin]="false"
      [plyrSources]="[{
                  src: storyData.path,
        type: 'video/mp4',
        size: 576,
        provider: 'html5'
          }]" (plyrInit)="player = $event" (plyrPlay)="played($event)"></div>
    <div class="max-[600px]:px-5">
      <h1 class="md:text-2xl text-lg font-semibold mt-5">{{ storyData.title }}</h1>
      <div class="flex flex-rows mt-5 ">
        <img [src]="photo" class="mr-3 rounded-full" style="width: 45px; height: 45px;">
        <div class="flex flex-col">
          <span class="text-[13px] mr-2 font-semibold mb-0">{{ personalName }}</span>
          <div class="flex flex-row content-center">
            <span class="text-[11px] rounded w-fit mr-1 bg-primary px-2 py-[1px] text-white">{{
              storyData.unit }}</span>
            <span class="text-xs place-self-center">{{ viewers }} views • {{
              formatDateNotDays(storyData.updatedAt) }}
            </span>
          </div>
        </div>
      </div>
      <hr class="my-5">
      <h1 class="text-lg font-semibold text-justify mt-2 mb-3">Description</h1>
      <div class="mt-5 mb-5" [innerHTML]="getSanitizedHTML(storyData.description)"></div>
    </div>
  </div>
  <!-- Inspirational Story -->
  <div class="md:h-10 h-8 mt-20 mb-5">
    <div class="w-min-full">
      <p class="md:text-3xl text-lg text-primary font-semibold float-left md:ml-20 ml-5">Explore</p>
      <a routerLink="/user/nex-learning/inspirational-story"
        class="md:text-base text-sm mt-2 text-primary font-semibold cursor-pointer hover:text-blue-600 float-right md:mr-20 mr-5">
        See All
      </a>
    </div>
  </div>
  <div class="md:px-20 px-4">
    <owl-carousel-o [options]="customOptionsOne">
      <ng-template carouselSlide *ngFor="let data of inspiStory">
        <div class="slide mb-10">
          <div mat-card-image plyr [plyrPoster]="data.cover"
            [plyrOptions]="{ autoplay: false, controls: [ 'play' , 'mute', 'progress'], clickToPlay: true }"
            [plyrTitle]="'Custom video'" [plyrPlaysInline]="true" [plyrCrossOrigin]="false" [plyrSources]="[{
                      src: data.path,
            type: 'video/mp4',
            size: 576,
            provider: 'html5'
              }]" (plyrInit)="player = $event" (plyrPlay)="played($event)"></div>
          <div class="mt-3">
            <div class="flex">
              <img [src]="photo_default" class="mr-3 rounded-full" style="width: 45px; height: 45px;">
              <div class="flex flex-col">
                <a [routerLink]="'/user/nex-learning/story-view/'+data.uuid"
                  class="font-semibold hover:text-primary text-sm">{{ trimString(data.title, 60) }}</a>
                <span class="text-xs">{{ data.personalNumber }}</span>
                <span class="text-xs">{{ data.view }} views • {{ formatDateNotDays(data.createdAt) }} </span>
              </div>
            </div>
          </div>
        </div>
      </ng-template>
    </owl-carousel-o>
    <div *ngIf="inspiStory.length == 0">
      <h1 class="text-center text-red-500">Sorry, data is empty !</h1>
    </div>
  </div>
</div>
<!-- Inspirational Story -->
