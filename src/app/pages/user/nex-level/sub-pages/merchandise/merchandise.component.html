<div class="min-[600px]:px-20 min-[600px]:mt-10 max-[600px]:px-7 max-[600px]:xs:mt-7">
  <nav class="flex" aria-label="Breadcrumb">
    <ol class="inline-flex items-center space-x-1 xs:space-x-3">
      <li>
        <div class="flex items-center -ml-1 md:-ml-1 mb-2">
          <a routerLink="../" class="cursor-pointer ml-1 lg:text-lg text-gray-500 hover:text-gray-800 md:ml-2
          dark:text-gray-400 dark:hover:text-white">
            NEX Miles
          </a>
        </div>
      </li>
      <li aria-current="page">
        <div class="flex items-center mb-2">
          <svg
            class="w-3 h-3 text-gray-400 mx-1"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 6 10">
            <path
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="m1 9 4-4-4-4" />
          </svg>
          <span class="ml-1 lg:text-lg  text-gray-800 md:ml-2 dark:text-gray-400">
            Merchandise
          </span>
        </div>
      </li>
    </ol>
  </nav>
  <h1 class="font-semibold min-[600px]:text-5xl max-[600px]:text-2xl">
    Hello, {{personalName}}
  </h1>
  <h2 class="min-[600px]:text-3xl max-[600px]:text-base font-medium mb-10">
    Welcome to your NEX Miles account
  </h2>
</div>
<!-- NEX Merchandise -->
<div *ngIf="!dataMerchandise">
  <p class="text-center my-20 text-gray-400">
    Merchandise not available, please contact administrator!
  </p>
</div>
<div class="first-feature block bg-jumbroton min-[600px]:p-20 max-[600px]: p-7  min-[600px]:py-10 max-[600px]:py-5"
  *ngIf="recentMerchandise && recentMerchandise.imageMerchandise.length > 0">
  <div class="grid min-[600px]:grid-cols-2 max-[600px]:grid-cols-1">
    <!-- Left -->
    <div class="mr-10">
      <h1 class="min-[600px]:text-4xl max-[600px]:text-base font-semibold  text-blue-400 mb-2">
        New Merchandise
      </h1>
      <h1 class="min-[600px]:text-4xl max-[600px]:text-base font-semibold text-black mb-2">
        {{ recentMerchandise.title }}
      </h1>
      <p class="mb-2 text-justify font-semibold max-[600px]:text-xs min-[600px]:mr-20 max-[600px]:-mr-10">
        {{recentMerchandise.description}}
      </p>
      <button *ngIf="dataPoint.point >= recentMerchandise.point"
        type="button"
        (click)="redeemProduct(recentMerchandise.id)"
        class="inline-block rounded bg-primary min-[600px]:px-6 min-[600px]:pt-2.5 min-[600px]:pb-2 min-[600px]:text-base
        max-[600px]: text-sm max-[600]: px-4 max-[600px]: pt-1 max-[600px]: pb-1 font-medium leading-normal text-white
        shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600
        hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600
        focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0
        active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)]"
        data-te-ripple-init data-te-ripple-color="light">
        Redeem Now
        <fa-icon [icon]="faChevronRight" class="text-white ml-2"></fa-icon>
      </button>
      <button *ngIf="dataPoint.point < recentMerchandise.point"
        disabled
        type="button"
        class="cursor-pointer inline-block rounded bg-gray-400
        min-[600px]:px-6 min-[600px]:pt-2.5 min-[600px]:pb-2 min-[600px]:text-base max-[600px]: text-xs max-[600]: px-4
        max-[600px]: pt-1 max-[600px]: pb-1 font-medium leading-normal
        text-white shadow-md transition duration-150 ease-in-out">
        Increase Your Point Now
        <fa-icon [icon]="faChevronRight" class="text-white ml-2"></fa-icon>
      </button>
      <p
        class="min-[600px]:text-5xl max-[600px]:text-md font-semibold text-blue-400 min-[600px]:mt-10 max-[600px]: mt-5">
        {{ recentMerchandise.point }} POINT
      </p>
    </div>
    <!-- Right -->
    <div class="flex xs:flex-wrap xs:justify-center">
      <img
        [src]="recentMerchandise.imageMerchandise.length > 0 ? recentMerchandise.imageMerchandise[0].path : null"
        class="object-cover min-[600px]: h-80 object-center w-full rounded-lg
        shadow-none transition-shadow duration-300 ease-in-out"
        alt=""
      />
    </div>
  </div>
</div>
<div class="" style="
    background-image: url('../../../../assets/image/library/gradient/227.png');
    background-position: left;
    background-repeat: no-repeat;
    ">
  <div class="" style="
    background-image: url('../../../../assets/image/library/gradient/252.png');
    background-position: right;
    background-repeat: no-repeat;
    ">
    <div class="grid min-[600px]:grid-cols-3 max-[600px]:grid-cols-1 gap-4 min-[600px]:p-20 max-[600px]:p-7">
      <div class="block min-[600px]:max-w-sm max-[600px]:max-w-xs rounded-xl bg-gray-50 shadow-xl  border-solid border-2 min-[600px]:px-10 max-[600px]:px-7
        min-[600px]:py-5 max-[600px]:py-5 min-[600px]:-mx-4 max-[600px]:mx-0 h-fit col-span-1">
        <div class="col-span-1">
          <h5 class="mb-2 min-[600px]:text-xl max-[600px]:text-md text-gray-500 font-semibold">
            Filter
          </h5>
          <form [formGroup]="mform">
            <div class="relative flex w-full flex-wrap items-stretch bg-white rounded-lg border border-1 mb-2">
              <button
                class="relative z-[2] rounded-l px-4 py-2 text-xs font-medium uppercase leading-tight text-[#3061AF] transition duration-150
                ease-in-out hover:bg-black hover:bg-opacity-5"
                type="button"
                id="button-addon1">
                <fa-icon [icon]="faSearch" class="text-gray-500"></fa-icon>
              </button>
              <input
                type="text"
                formControlName="search"
                class="h-11 relative m-0 block min-w-0 flex-auto rounded-r bg-transparent bg-clip-padding px-3 py-[0.25rem] text-base font-normal
                leading-[1.6] text-neutral-700 outline-none transition ease-in-out"
                placeholder="Search"
                aria-label="Example text with button addon"
                aria-describedby="button-addon1" />
            </div>
          </form>
          <h5 class="mb-2 min-[600px]:text-xl max-[600px]:text-md mx-7 text-gray-500 font-semibold">Point</h5>
          <div class=" text-gray-500 min-[600px]:text-base max-[600px]:text-sm font-medium mb-[0.125rem] block min-h-[1.5rem] pl-[1.5rem] mx-7"
            *ngFor="let filter of pointFilter">
            <input
              [(ngModel)]="selectPointFilter"
              (change)="filterPt(selectPointFilter)"
              class="relative float-left -ml-[1.5rem] mr-[6px] mt-[0.15rem] h-[1.125rem] w-[1.125rem] appearance-none rounded-[0.25rem]
              border-[0.125rem] border-solid border-[#0C82B9] outline-none before:pointer-events-none before:absolute before:h-[0.875rem]
              before:w-[0.875rem] before:scale-0 before:rounded-full before:bg-transparent before:opacity-0 before:shadow-[0px_0px_0px_13px_transparent]
              before:content-[''] checked:border-primary checked:bg-primary checked:before:opacity-[0.16] checked:after:absolute checked:after:-mt-px
              checked:after:ml-[0.25rem] checked:after:block checked:after:h-[0.8125rem] checked:after:w-[0.375rem] checked:after:rotate-45
              checked:after:border-[0.125rem] checked:after:border-l-0 checked:after:border-t-0 checked:after:border-solid checked:after:border-white
              checked:after:bg-transparent checked:after:content-[''] hover:cursor-pointer hover:before:opacity-[0.04] hover:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)]
              focus:shadow-none focus:transition-[border-color_0.2s] focus:before:scale-100 focus:before:opacity-[0.12] focus:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)]
              focus:before:transition-[box-shadow_0.2s,transform_0.2s] focus:after:absolute focus:after:z-[1] focus:after:block focus:after:h-[0.875rem] focus:after:w-[0.875rem]
              focus:after:rounded-[0.125rem] focus:after:content-[''] checked:focus:before:scale-100 checked:focus:before:shadow-[0px_0px_0px_13px_#3b71ca]
              checked:focus:before:transition-[box-shadow_0.2s,transform_0.2s] checked:focus:after:-mt-px checked:focus:after:ml-[0.25rem]
              checked:focus:after:h-[0.8125rem] checked:focus:after:w-[0.375rem] checked:focus:after:rotate-45 checked:focus:after:rounded-none
              checked:focus:after:border-[0.125rem] checked:focus:after:border-l-0 checked:focus:after:border-t-0 checked:focus:after:border-solid
            checked:focus:after:border-white checked:focus:after:bg-transparent"
              type="radio"
              [value]="filter.id">
              {{ filter.minPoint }} - {{ filter.maxPoint }}
          </div>
          <h5 class=" mb-2 min-[600px]:text-xl max-[600px]:text-md mx-7 text-gray-500 font-semibold">Sort By</h5>
          <div class="text-gray-500 min-[600px]:text-base max-[600px]:text-sm  font-medium mb-[0.125rem] block min-h-[1.5rem] pl-[1.5rem] mx-7">
            <input
              [(ngModel)]="isSort"
              (change)="filterPt(isSort)"
              class=" relative float-left -ml-[1.5rem] mr-[6px] mt-[0.15rem] h-[1.125rem] w-[1.125rem] appearance-none rounded-[0.25rem]
              border-[0.125rem] border-solid border-[#0C82B9] outline-none before:pointer-events-none before:absolute before:h-[0.875rem]
              before:w-[0.875rem] before:scale-0 before:rounded-full before:bg-transparent before:opacity-0 before:shadow-[0px_0px_0px_13px_transparent]
              before:content-[''] checked:border-primary checked:bg-primary checked:before:opacity-[0.16] checked:after:absolute checked:after:-mt-px
              checked:after:ml-[0.25rem] checked:after:block checked:after:h-[0.8125rem] checked:after:w-[0.375rem] checked:after:rotate-45 checked:after:border-[0.125rem]
              checked:after:border-l-0 checked:after:border-t-0 checked:after:border-solid checked:after:border-white checked:after:bg-transparent
              checked:after:content-[''] hover:cursor-pointer hover:before:opacity-[0.04] hover:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)]
              focus:shadow-none focus:transition-[border-color_0.2s] focus:before:scale-100 focus:before:opacity-[0.12]
              focus:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)] focus:before:transition-[box-shadow_0.2s,transform_0.2s]
              focus:after:absolute focus:after:z-[1] focus:after:block focus:after:h-[0.875rem] focus:after:w-[0.875rem]
              focus:after:rounded-[0.125rem] focus:after:content-[''] checked:focus:before:scale-100 checked:focus:before:shadow-[0px_0px_0px_13px_#3b71ca]
              checked:focus:before:transition-[box-shadow_0.2s,transform_0.2s] checked:focus:after:-mt-px checked:focus:after:ml-[0.25rem]
              checked:focus:after:h-[0.8125rem] checked:focus:after:w-[0.375rem] checked:focus:after:rotate-45 checked:focus:after:rounded-none
              checked:focus:after:border-[0.125rem] checked:focus:after:border-l-0 checked:focus:after:border-t-0 checked:focus:after:border-solid
              checked:focus:after:border-white checked:focus:after:bg-transparent dark:border-neutral-600 dark:checked:border-primary
            dark:checked:bg-primary dark:focus:before:shadow-[0px_0px_0px_13px_rgba(255,255,255,0.4)] dark:checked:focus:before:shadow-[0px_0px_0px_13px_#3b71ca]"
              type="radio"
              value="descPoint">
              Highest Point
          </div>
          <div class="text-gray-500 font-medium mb-[0.125rem] block min-h-[1.5rem] pl-[1.5rem] mx-7">
            <input
              [(ngModel)]="isSort"
              (change)="filterPt(isSort)"
              class=" relative float-left -ml-[1.5rem] mr-[6px] mt-[0.15rem] h-[1.125rem] w-[1.125rem] appearance-none rounded-[0.25rem]
              border-[0.125rem] border-solid border-[#0C82B9] outline-none before:pointer-events-none before:absolute before:h-[0.875rem]
              before:w-[0.875rem] before:scale-0 before:rounded-full before:bg-transparent before:opacity-0 before:shadow-[0px_0px_0px_13px_transparent]
              before:content-[''] checked:border-primary checked:bg-primary checked:before:opacity-[0.16] checked:after:absolute checked:after:-mt-px
              checked:after:ml-[0.25rem] checked:after:block checked:after:h-[0.8125rem] checked:after:w-[0.375rem] checked:after:rotate-45
              checked:after:border-[0.125rem] checked:after:border-l-0 checked:after:border-t-0 checked:after:border-solid checked:after:border-white
              checked:after:bg-transparent checked:after:content-[''] hover:cursor-pointer hover:before:opacity-[0.04] hover:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)]
              focus:shadow-none focus:transition-[border-color_0.2s] focus:before:scale-100 focus:before:opacity-[0.12] focus:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)]
              focus:before:transition-[box-shadow_0.2s,transform_0.2s] focus:after:absolute focus:after:z-[1] focus:after:block focus:after:h-[0.875rem] focus:after:w-[0.875rem]
              focus:after:rounded-[0.125rem] focus:after:content-[''] checked:focus:before:scale-100 checked:focus:before:shadow-[0px_0px_0px_13px_#3b71ca]
              checked:focus:before:transition-[box-shadow_0.2s,transform_0.2s] checked:focus:after:-mt-px checked:focus:after:ml-[0.25rem] checked:focus:after:h-[0.8125rem]
              checked:focus:after:w-[0.375rem] checked:focus:after:rotate-45 checked:focus:after:rounded-none checked:focus:after:border-[0.125rem]
              checked:focus:after:border-l-0 checked:focus:after:border-t-0 checked:focus:after:border-solid checked:focus:after:border-white
              checked:focus:after:bg-transparent dark:border-neutral-600 dark:checked:border-primary dark:checked:bg-primary
              dark:focus:before:shadow-[0px_0px_0px_13px_rgba(255,255,255,0.4)] dark:checked:focus:before:shadow-[0px_0px_0px_13px_#3b71ca]"
              type="radio"
              value="ascPoint">
              Lowest Point
          </div>
          <div class=" mb-[0.125rem] block min-h-[1.5rem] px-1 py-5">
            <button
              (click)="clearFilter()"
              type="button"
              class="mb-2 block w-fit rounded bg-[#0C82B9] min-[600px]:px-6 min-[600px]:pt-2.5 min-[600px]:pb-2 min-[600px]:text-base
              max-[600px]: text-sm max-[600]: px-4 max-[600px]: pt-1 max-[600px]: pb-1 font-medium leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca]
              transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)]"
              data-te-toggle="modal"
              data-te-target="#modalFilter"
              data-te-ripple-init data-te-ripple-color="light">
              <fa-icon [icon]="faFilter" class="text-white mr-2"></fa-icon> Reset Filter
            </button>
          </div>
        </div>
      </div>
      <div *ngIf="!dataMerchandise">
        <p class="text-center my-20 text-gray-400">Merchandise not available, please contact administrator!</p>
      </div>
      <div class="grid min-[600px]:grid-cols-4 max-[600px]:grid-cols-1 gap-4 min-[600px]:-mx-4 max-[600px]:mx-0 h-fit col-span-2"
        *ngIf="dataMerchandise">
        <div *ngFor="let merchandise of dataMerchandise; let i = index" class="col-span-1 gap-4">
          <div class="block min-[600px]:max-w-sm max-[600px]: max-w-xs rounded-lg bg-transparent shadow-sm">
            <div class="text-end">
              <fa-icon
                class="fa-2xl absolute z-10 p-2 min-[600px]:-ml-14 max-[600px]:-ml-24"
                [icon]="faStar"
                [ngClass]="{'text-[#FFEB3B]': merchandise.isPinned === true, 'hidden' : merchandise.isPinned !== true}">
              </fa-icon>
            </div>
            <ng-container *ngIf="merchandise">
              <img
                class="cursor-pointer rounded-2xl bg-jumbroton shadow-xl bg-opacity-40 min-[600px]:w-full max-[600px]: w-3/4 min-[600px]:h-full max-[600px]:h-3/4 max-[600px]: mx-auto p-6"
                [src]=merchandise.imageMerchandise[0].path alt="merchandise_image"
                [routerLink]="['/user/nex-level/merchandise/', merchandise.uuid]" />
            </ng-container>
            <div class="min-[600px]:p-3 max-[600px]: px-14 max-[600px]: py-6">
              <h5 class="min-h-[60px] min-[600px]:text-xl max-[600px]:text-md font-bold text-black mb-2">
                {{ merchandise.title }}
              </h5>
              <h3 class="min-[600px]:text-sm max-[600px]:text-xs font-semibold mb-2">
                {{ merchandise.point }} Point
              </h3>
              <td
                class="min-[600px]:text-sm max-[600px]:text-xs font-semibold mb-4"
                style="height: 50px; overflow: hidden;">
                <ng-container>
                  {{ trimString(merchandise.description, 40) }}
                </ng-container>
              </td>
              <h2 class="mb-4 text-neutral-600 min-[600px]:text-xs max-[600px]:text-xs font-normal">
                {{ merchandise._count.merchandiseRedeem }} Pcs redeemed
              </h2>
              <button
                type="button" *ngIf="dataPoint.point >= merchandise.point"
                (click)="redeemProduct(merchandise.id)"
                class="cursor-pointer mb-2  block w-full rounded-full bg-regal-blue  min-[600px]:px-6 min-[600px]:pt-2.5 min-[600px]:pb-2 min-[600px]:text-base
                max-[600px]: text-sm max-[600]: px-4 max-[600px]: pt-1 max-[600px]: pb-1
                font-medium leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca]
                transition duration-150 ease-in-out hover:bg-regal-blue-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)]
                ">
                Redeem
              </button>
              <button
                type="button" *ngIf="dataPoint.point < merchandise.point"
                disabled
                class="cursor-pointer mb-2  block w-full rounded-full bg-gray-400  min-[600px]:px-6 min-[600px]:pt-2.5 min-[600px]:pb-2 min-[600px]:text-base
                max-[600px]: text-sm max-[600]: px-4 max-[600px]: pt-1 max-[600px]: pb-1 font-medium leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca]
                transition duration-150 ease-in-out hover:bg-regal-blue-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)]
                ">
                Not Enough Point
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <form [formGroup]="mform">
    <div class="flex justify-end w-full min-[600px]:-ml-16 mt-4 max-[600px]: -ml-6 ">
      <!-- Pagination -->
      <nav aria-label="Page navigation example">
        <ul class="list-style-none min-[600px]:text-base max-[600px]: text-sm flex mt-5 place-self-center">
          <li class="mr-3 place-self-center">
            <p>Total : {{ totalData }}</p>
          </li>
          <li class="mr-3 place-self-center">
            <select class="border boder-regal-blue rounded py-1 px-2 place-self-center" formControlName="limit">
              <option [value]="12">12</option>
              <option [value]="24">24</option>
              <option [value]="36">36</option>
              <option [value]="48">48</option>
            </select>
          </li>
          <li class="place-self-center text-white rounded px-2 py-1">
            <fa-icon [icon]="faCircleChevronLeft" (click)="prevPage()"
              class="place-self-center hover:text-black text-regal-blue cursor-pointer">
            </fa-icon>
          </li>
          <li class="place-self-center text-white rounded px-2 py-1">
            <fa-icon [icon]="faCircleChevronRight" (click)="nextPage()"
              class="place-self-center hover:text-black text-regal-blue cursor-pointer">
            </fa-icon>
          </li>
          <li class="ml-3 flex flex-cols">
            <p class="place-self-center mr-3">Go to</p>
            <input type="number" [value]="page" class="border boder-regal-blue rounded py-1 px-2 w-16"
              formControlName="page">
          </li>
        </ul>
      </nav>
    </div>
  </form>
</div>
<img class="absolute top-0 right-0 -z-10" src="../../../../assets/image/home-page/gradient/228.png" alt="" />
<img class="absolute top-0 right-0 -z-20" src="../../../../assets/image/home-page/gradient/229.png" alt="" />
<img class="absolute left-0 top-2/3 -z-20" src="../../../../assets/image/home-page/gradient/227.png" alt="" />
<img class="absolute right-0 top-1/2 -z-20" src="../../../../assets/image/home-page/gradient/229.png" alt="" />
